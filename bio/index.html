<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="stylesheet" type="text/css" href="bio.css" />
  <script src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />

  <title>Bio</title>
  <meta name="Description" content="About me page for my personal website.">
  <link rel="icon" type="image/x-icon" href="../favicon.ico?"/>
  
</head>

<body>
  <div class="lg-container">
    <div class="pages">
      <h1>About me</h1>

      <div class="links-wrapper">
        <a href="../">home</a>
        <a href="../projects/">projects</a>
        <a href="../assets/Sam Acquaviva.pdf" target="_blank">resume</a>
        <a href="#" class="disabled_a">bio</a>
      </div>
    </div>

    <div class="container">
      <img src="../assets/profilephoto.jpg" alt="Sam Acquaviva" width="300" height="300" />
      <p id="typer"></p>
    </div>

  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="bio.js"></script>
  <script>

    function render_links() {
      // js is used to apply svg to each links so don't have to copy paste a bunch
      // animation from https://codepen.io/aaroniker/pen/VwjexVy
      const links = document.querySelectorAll('.loop-link');

      for (let i=0;i<links.length; i++) {
          links[i].innerHTML += '<svg viewBox="0 0 70 36"><path d="M6.9739 30.8153H63.0244C65.5269 30.8152 75.5358 -3.68471 35.4998 2.81531C-16.1598 11.2025 0.894099 33.9766 26.9922 34.3153C104.062 35.3153 54.5169 -6.68469 23.489 9.31527" /></svg>';
      }
    }

    // hacks for if screen is small.
    if (window.innerWidth < 700) {
      $(".links-wrapper").html(`
        <a href="../">home</a>
        </br>
        <a href="../projects/">projects</a>
      </br>
        <a href="../assets/Sam Acquaviva.pdf" target="_blank">resume</a>
      </br>
        <a href="#" class="disabled_a">bio</a>
      `);

      $(".links-wrapper").css("margin-top", "1em");
      $(".links-wrapper a").css("line-height", "1.5");
      $(".links-wrapper a").css("margin", "0");

      // center image and don't wrap text.
      $(".container").html(`
      <div style="display:block;margin-left:auto;margin-right:auto;display:inline-block;">
        <img src="../assets/profilephoto.jpg" alt="Sam Acquaviva" width="300" height="300" />
      </div>
      <p id="typer"></p>
      `);
    }

    // >| denotes line break + delay, | indicates delay when typing.
    let bio_text = "My name is Sam.>| I'm an undergrad at MIT studying Computation and Cognition (Course 6-9), which is a blend of computer science and cognitive science." + 
                   "| My goal is to use AI to help solve important problems in the world, like creating food sustainably and reducing the barrier to be productive with computers." +
                   ">| Last summer, while at John Deere, I worked on the first problem, using computer vision to make corn harvesting more efficient.>|" +
                   "Since then, I've focused on the second problem. In the Computational Cognitive Science Lab at MIT, I researched how we can use human-to-human communication to improve human-to-computer communication " +
                   "(<a class='loop-link' href='https://arxiv.org/abs/2106.07824'>paper</a>). " +
                   "This Spring, while at X, I worked on a similar problem. I'm currently at Apple, where I am working on Siri.>|" + 
                   "Outside of this work, I <a class='loop-link' href='https://mitathletics.com/sports/mens-cross-country/roster/sam-acquaviva/9625'>run</a>, play <a class='loop-link' href='https://lichess.org/@/sam_acqua'>chess</a>, and <a class='loop-link' href='../projects/generative_art'>make</a> generative art.";
    let break_delay = 200;  // in milliseconds.

    let bio_text_lines = bio_text.split("|");

    var typer = new TypeIt("#typer", {
        speed: 20,
        waitUntilVisible: true,
        afterComplete: function (step, instance) {
          setTimeout(() => {
            instance.destroy();
          }, 3000);
        }
    });

    for (let i=0;i<bio_text_lines.length;i++) {
      let line = bio_text_lines[i];
      let should_break = (line.slice(-1) == ">");
      if (should_break) {
        line = line.slice(0, -1);
      }
      typer.type(line, {delay: break_delay});
      if (should_break) {
        typer.break();
      }
      typer.exec(render_links);
    }
    typer.go()

    $(".lg-container").click(function() {
      typer.destroy();

      let full_text = "";
      for (let i=0;i<bio_text_lines.length;i++) {
        let line = bio_text_lines[i];
        let should_break = (line.slice(-1) == ">");
        if (should_break) {
          line = line.slice(0, -1);
        }
        full_text += line;
        if (should_break) {
          full_text += "<br/>";
        }
      }
      $("#typer").html(full_text);
      render_links();

    });

  </script>
</body>

</html>
